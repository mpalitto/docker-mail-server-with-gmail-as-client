version: '2'

services:

  mail:
    build: 
      context: .
      args:
         hostname:   yourhost   # mail.example.net
         maildomain: yourdomain # example.net

         cert_data: /C=IT/ST=Italy/L=Torino/O=immobiliare/CN=Erli Spa/emailAddress=amministrazione@yourdomain
         # C:            country
         # ST:           state
         # L:            location/city
         # O:            Organization
         # CN:           Organization Common Name
         # emailAddress: Organization email address

         users: user1 user2 ...userN # users defined at build time, additional user can be added by running utility script
         gmailIDs: NA GMuser2 ...GMuserN # gmail ID for users must be the same number as the users
         # NOTE1: user1 is the company wide sender (the email header will be replaced with user1 address)
         # NOTE2: user1 doesn't have a corresponding gmail account, its gmailID is ignored unless it is marked as "all"
         # NOTE3: if gmailID for user1 id marked as "all" emails received by user1 are forwarded to all other users

         defaultPWD: erli2015 # default password for users, it can be changed by changing their Linux account password

    image: mail-server
    container_name: mail-server

    ports:
    - "25:25"
    - "587:587"

    stdin_open: true
    tty: true

